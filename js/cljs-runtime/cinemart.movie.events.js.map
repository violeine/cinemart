{"version":3,"sources":["cinemart/movie/events.cljs"],"mappings":";AAUA,AAAA,AAACA,AAEA,AAAA,AAAAC,AAAA,AAAAC,AAAYW;AAAZ,AAAA,AAAAV,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAeU;AAAf,AAAAT,AAAAD,AAAA,AAAA,AAAiBW;AAAjB,AAAA,AAAAT,AAAA;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA;;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAAA,AAE6CO;AAF7C,AAAA,AAAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAG2CQ;AAH3C,AAAA,AAAAP,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAA,AAKwCS;AALxC,AAAA,AAAAR,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAA,AAAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAA,AAAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAAE,AAAAC;AAAA,AAAA,AAAAD;AAAA,AAAAE,AAAYE;AAAZ,AAAA,AAAAD,AAAAD;AAAA,AAAAP,AAAAQ,AAAA,AAAA,AAAeC;AAAf,AAAAT,AAAAQ,AAAA,AAAA,AAAiBE;AAAjB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAE8B,AAAA,AAAeA,AACH,AAAA,AAAA,AAAA,AAACC,AAEHC;;AAIzC,AAAA,AAACC,AAEA,AAAA,AAAAhB,AAAA,AAAAiB,AAAYK;AAAZ,AAAA,AAAAJ,AAAAD;AAAA,AAAAd,AAAAe,AAAA,AAAA,AAAgBN;AAAhB,AAAAT,AAAAe,AAAA,AAAA,AAAkBK;AAAlB,AAAA,AAAAnB,AAAA;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA;;AAAA,AAAAC,AAAA,AAAA,AAAAA,AACYkB,AAAMF;AADlB,AAAA,AAAAf,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAA,AAAAA,AAC4BiB;AAD5B,AAAA,AAAAhB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAAE,AAAAW;AAAA,AAAA,AAAAX;AAAA,AAAAY,AAAYE;AAAZ,AAAA,AAAAD,AAAAD;AAAA,AAAAjB,AAAAkB,AAAA,AAAA,AAAgBT;AAAhB,AAAAT,AAAAkB,AAAA,AAAA,AAAkBE;AAAlB,AACW,AAAA,AAACC,AAAMF,AAAUC;;AAE7B,AAAA,AAACP,AAEA,AAAA,AAAAhB,AAAA,AAAAyB,AAAYH;AAAZ,AAAA,AAAAI,AAAAD;AAAA,AAAAtB,AAAAuB,AAAA,AAAA,AAAgBd;AAAhB,AAAAT,AAAAuB,AAAA,AAAA,AAAkBH;AAAlB,AAAA,AAAAnB,AAAA;AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA;;AAAA,AAAAC,AAAA,AAAA,AAAAA,AACYkB,AAAMF;AADlB,AAAA,AAAAf,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAA,AAAAA,AACmCiB;AADnC,AAAA,AAAAhB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAA;;AAAAA;AAAA,AAAAE,AAAAmB;AAAA,AAAA,AAAAnB;AAAA,AAAAoB,AAAYN;AAAZ,AAAA,AAAAO,AAAAD;AAAA,AAAAzB,AAAA0B,AAAA,AAAA,AAAgBjB;AAAhB,AAAAT,AAAA0B,AAAA,AAAA,AAAkBN;AAAlB,AACW,AAAA,AAACC,AAAMF,AAAiBC","names":["re_frame.core.reg_event_fx","day8.re-frame.tracing/is-trace-enabled?","p__29079","vec__29080","cljs.core.nth","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__24991__auto__","day8.re-frame.debux.common.util/send-trace!","e","e29083","p__29086","vec__29087","_","id","ajax.core/json-response-format","cinemart.config/api-interceptor","re_frame.core.reg_event_db","p__29090","vec__29091","e29094","p__29095","vec__29096","db","result","cljs.core.assoc","p__29099","vec__29100","e29103","p__29105","vec__29106"],"sourcesContent":["(ns cinemart.movie.events\n  (:require\n   [re-frame.core :as rf]\n   [cinemart.db :as db]\n   [day8.re-frame.tracing :refer-macros [fn-traced]]\n   [cinemart.effects :as fx]\n   [ajax.core :as ajax]\n   [cinemart.config :refer [api-interceptor]]\n   [reitit.frontend.controllers :as rfc]))\n\n(rf/reg-event-fx\n ::fetch-movie\n (fn-traced [_ [_ id]]\n            {:http-xhrio {:method :get\n                          :uri (str \"/movie/\" id)\n                          :response-format (ajax/json-response-format\n                                            {:keywords? true})\n                          :interceptors [api-interceptor]\n                          :on-success [::success]\n                          :on-failure [::failure]}}))\n\n(rf/reg-event-db\n ::success\n (fn-traced [db [_ result]]\n            (assoc db :movie result)))\n\n(rf/reg-event-db\n ::failure\n (fn-traced [db [_ result]]\n            (assoc db :http-failure result)))\n\n\n\n"]}