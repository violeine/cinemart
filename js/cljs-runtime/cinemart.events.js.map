{"version":3,"sources":["cinemart/events.cljs"],"mappings":"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","names":["re_frame.core.reg_event_db","day8.re-frame.tracing/is-trace-enabled?","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__24991__auto__","day8.re-frame.debux.common.util/send-trace!","e","e27346","_","cinemart.db/default-db","re_frame.core.reg_event_fx","p__27351","vec__27352","seq__27353","cljs.core/seq","first__27354","cljs.core/first","cljs.core/next","e27355","p__27356","vec__27357","seq__27358","first__27359","db","route","p__27360","vec__27361","cljs.core.nth","e27366","p__27367","vec__27368","new-match","old-match","controllers","reitit.frontend.controllers/apply-controllers","cljs.core.assoc","e27371","ajax.core/json-response-format","cinemart.config/api-interceptor","p__27372","vec__27373","e27376","p__27377","vec__27378","result","p__27381","vec__27382","e27386","p__27387","vec__27388"],"sourcesContent":["(ns cinemart.events\n  (:require\n   [re-frame.core :as rf]\n   [cinemart.db :as db]\n   [day8.re-frame.tracing :refer-macros [fn-traced]]\n   [cinemart.effects :as fx]\n   [ajax.core :as ajax]\n   [cinemart.config :refer [api-interceptor]]\n   [reitit.frontend.controllers :as rfc]))\n\n(rf/reg-event-db\n ::init-db\n (fn-traced [_ _]\n            db/default-db))\n(rf/reg-event-fx\n ::navigate\n (fn-traced [db [_ & route]]\n            {::fx/navigate! route}))\n(rf/reg-event-db\n ::navigated\n (fn-traced [db [_ new-match]]\n            (let [old-match (:current-route db)\n                  controllers (rfc/apply-controllers\n                               (:controllers old-match)\n                               new-match)]\n              (assoc db :current-route\n                     (assoc new-match :controllers controllers)))))\n;\"https://api.themoviedb.org/3/movie/76341\"\n\n(rf/reg-event-fx\n ::test-fetch\n (fn-traced [_ _]\n            {:http-xhrio {:method :get\n                          :uri \"/movie/76341\"\n                          :response-format (ajax/json-response-format\n                                            {:keywords? true})\n                          :interceptors [api-interceptor]\n                          :on-success [::good-http-result]\n                          :on-failure [::bad-http-result]}}))\n\n(rf/reg-event-db\n ::good-http-result\n (fn-traced [db [_ result]]\n            (assoc db :http-result result)))\n\n(rf/reg-event-db\n ::bad-http-result\n (fn-traced [db [_ result]]\n            (assoc db :http-failure result)))\n\n\n"]}